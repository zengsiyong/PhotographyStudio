<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	<mapper namespace="com.zengsy.mapper.CategoryMapper">
		<!-- 提供带分页的查询语句和获取总数的sql语句，分页使用limit语法 -->
		<!-- LIMIT 子句可以被用于强制 SELECT 语句返回指定的记录数。-->
		<!-- 如果给定两个参数，第一个参数指定第一个返回记录行的偏移量，第二个参数指定返回记录行的最大数目。 -->
		<select id="list" resultType="Category">
			select * from   category order by id desc
			<if test="start != null and count != null">
				limit #{start},#{count}
			</if>
		</select>

		<select id="total" resultType="int" >
			select count(*) from category
		</select>

		<!--keyProperty="id" useGeneratedKeys="true" 以确保Category对象通过mybatis增加到数据库之后得到的id增长值会被设置在Category对象上。-->
		<insert id="add" keyProperty="id" useGeneratedKeys="true" parameterType="Category" >
	        insert into category ( name ) values (#{name})
	    </insert>
	    
	    <delete id="delete" parameterType="Category" >
	        delete from category where id= #{id}
	    </delete>
	    
	    <select id="get" parameterType="_int" resultType="Category">
	        select * from   category  where id= #{id}
	    </select>

	    <update id="update" parameterType="Category" >
	        update category set name=#{name} where id=#{id}
	    </update>


	</mapper>

